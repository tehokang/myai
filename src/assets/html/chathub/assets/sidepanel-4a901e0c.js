import{a6 as i,ac as u,aY as p,aP as f,r,y as e,aJ as g,aK as j,aL as h,z as b,aM as y,aN as v,a9 as n,aW as w,a7 as C,ag as N,al as P}from"./ChatMessageList-099f2432.js";import{b as k}from"./browser-polyfill-27087e75.js";import{C as B}from"./user-config-97833629.js";import"./proxy-fetch-986807a3.js";function I(){const{t:a}=i(),[t,c]=u(p),l=B[t],s=f(t),m=r.useCallback(async x=>{s.sendMessage(x)},[s]),o=r.useCallback(()=>{s.generating||s.resetConversation()},[s]),d=r.useMemo(()=>({reset:o}),[o]);return e.jsx(g.Provider,{value:d,children:e.jsxs("div",{className:"flex flex-col overflow-hidden bg-primary-background h-full",children:[e.jsxs("div",{className:"border-b border-solid border-primary-border flex flex-row items-center justify-between gap-2 py-3 mx-3",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx("img",{src:l.avatar,className:"w-4 h-4 object-contain rounded-full"}),e.jsx("span",{className:"font-semibold text-primary-text text-xs",children:l.name}),e.jsx(j,{selectedBotId:t,onChange:c})]}),e.jsx("div",{className:"flex flex-row items-center gap-3",children:e.jsx("img",{src:h,className:b("w-4 h-4",s.generating?"cursor-not-allowed":"cursor-pointer"),onClick:o})})]}),e.jsx(y,{botId:t,messages:s.messages,className:"mx-3"}),e.jsxs("div",{className:"flex flex-col mx-3 my-3 gap-3",children:[e.jsx("hr",{className:"grow border-primary-border"}),e.jsx(v,{mode:"compact",disabled:s.generating,autoFocus:!0,placeholder:"Ask me anything...",onSubmit:m,actionButton:s.generating?e.jsx(n,{text:a("Stop"),color:"flat",size:"small",onClick:s.stopGenerating}):e.jsx(n,{text:a("Send"),color:"primary",type:"submit",size:"small"})})]})]})})}function S(){const{t:a}=i(),t=r.useCallback(()=>{N("open_premium_from_sidepanel"),window.open(k.runtime.getURL("app.html#/premium"),"_blank")},[]);return e.jsxs("div",{className:"w-full h-full flex flex-col justify-center items-center gap-3",children:[e.jsx("img",{src:P,className:"w-10 h-10"}),e.jsx("div",{className:"text-xl font-bold",children:a("Premium Feature")}),e.jsx(n,{text:a("Upgrade to unlock"),color:"primary",onClick:t})]})}function A(){const a=C();return a.isLoading?null:a.activated?e.jsx(I,{}):e.jsx(S,{})}const E=document.getElementById("app"),M=w(E);M.render(e.jsx(A,{}));
